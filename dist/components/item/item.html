<div class="container" ng-if="item.projectRef"><div class="card-panel center"><h5>This is an referenced project</h5><div class="btn orange" ui-sref="editor.organization.projects.project({organizationId: organizationId, projectTypeId: item.projectRefTypeId, projectId: item.projectRef})">go</div></div></div><md-tabs md-dynamic-height="md-dynamic-height" ng-if="!item.projectRef"><!--.btn.grey(ng-click='chooseTemplate()' style='margin-right:10px') {{item.template}}--><md-tab ng-repeat="(key, state) in getStates(projectTypeId, item.template) track by key" label="{{state.name}}" ng-click="setState(key)"><md-content><div class="pad"><div ng-if="state.device" style="height: 520px; width: 100%; border: 2px dashed rgba(0,0,0,0.1); overflow: hidden;"><device-preview device="{width: 1000, height: 700}" stylesheets="['./css/viewer.css', 'https://fonts.googleapis.com/icon?family=Material+Icons']"><project-item item="item" state="key" project-type-id="projectTypeId"></project-item></device-preview></div><div ng-if="!state.device"><project-item item="item" state="key" project-type-id="projectTypeId"></project-item></div></div></md-content></md-tab><!--md-tab(label='form' ng-click='setState("form")')md-content: .pad
	.container: .card-panel
		//-input(ng-model='state')
		label Content
		input(ng-model='item.props.content')
		//-p {{_item.props.content}}
--><md-tab label="template"><md-content><div class="pad"><div class="row" style="overflow: auto; height: 100%; padding-bottom: 80px;"><div class="col s12 l4" ng-repeat="(key, template) in getTemplates(projectTypeId) track by key"><div class="selectable" ng-class="{active: item.template == key}"><div class="card item-full pointer" ng-click="item.template = key"><div class="card-img"><img class="responsive-img" src="{{template.preview}}"/></div><div class="card-content"><strong>{{template.name | underscoreless | camelcase}}</strong></div></div></div></div></div></div></md-content></md-tab></md-tabs>